# Changelog

## [1.1.6] - 2025-12-24
### 修复
- **补全 Docker 依赖**：增加了 `iptables` 和 `iproute2` 基础组件的安装，解决了在纯净版 Ubuntu 24.04 (Noble) 下 Docker 守护进程因缺少网络过滤组件而启动失败的问题。
- **增强故障诊断**：在 Docker 启动失败并触发 `FATAL` 报错时，脚本会自动联调并打印 `/var/log/dockerd.log` 的最后 20 行，帮助用户快速锁定底层系统错误。

## [1.1.5] - 2025-12-24
### 修复
- **深度加固**：在 Docker 守护进程无法启动时增加“硬失败”校验。如果多次尝试后 Docker 依然不可用，脚本将强制报错退出（`exit 1`），严禁进入 Trojan 管理器的 MariaDB 安装环节。
- **兼容性增强**：增加了对 `snap` 管理的 Docker 服务的启动支持，并支持对 `docker.socket` 的自动取消挂载（unmask）。

## [1.1.4] - 2025-12-24
### 修复
- 修复 Docker 已安装但守护进程未运行导致 MariaDB 安装死循环的问题。在脚本中增加了对 Docker 状态的检测（`docker info`）及自动启动逻辑，确保环境就绪。

## [1.1.3] - 2025-12-24
### 修复
- 进一步修复 `acme.sh` 安装失败问题。摒弃了脆弱的单文件手动安装模式，改用官方推荐的 `--install-online` 流式安装，从根本上消除了 `cp` 命令寻找路径失败的隐患。

## [1.1.2] - 2025-12-24
### 修复
- 修复 `install.sh` 中 `acme.sh` 安装失败的问题。通过在调用安装脚本前切换到 `/tmp` 目录，解决了 `cp` 命令由于找不到源文件导致的安装中断。

### 修改人
- Antigravity (AI Assistant)
